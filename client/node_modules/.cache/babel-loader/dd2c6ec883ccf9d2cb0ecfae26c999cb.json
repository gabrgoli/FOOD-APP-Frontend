{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Pictures\\\\Screenshots\\\\HENRY\\\\PI\\\\PI-Food (ultima Version)\\\\client\\\\src\\\\components\\\\RecipeCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { postRecipe } from \"../actions\";\nimport { useDispatch, useSelector } from \"react-redux\"; //import styles from \"../Styles/CreateRecipe.module.css\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validate(post) {\n  let errors = {};\n\n  if (!post.title) {\n    errors.title = \"Tu receta necesita un titulo\";\n  } else if (!post.summary) {\n    errors.summary = \"Brinda una pequeña descripcion de tu receta\";\n  } else if (!post.instructions) {\n    errors.instructions = \"No te olvides de contar como la preparaste\";\n  }\n\n  return errors;\n}\n\nexport default function RecipeCreate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const allDiets = useSelector(state => state.diets);\n  const [errors, setErrors] = useState({});\n  const [post, setPost] = useState({\n    title: \"\",\n    summary: \"\",\n    spoonacularScore: 50,\n    healthScore: 50,\n    instructions: \"\",\n    image: \"\",\n    diets: []\n  });\n\n  function handleChange(e) {\n    setPost({ ...post,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...post,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSelect(e) {\n    setPost({ ...post,\n      diets: [...post.diets, e.target.value] //guarda en un arreglo lo qe vaya seleccionando\n\n    }); //    console.log(post)\n  }\n\n  function handleDietDelete(deleteThis) {\n    setPost({ ...post,\n      diets: post.diets.filter(diet => diet !== deleteThis)\n    });\n  }\n\n  function handleSubmit(e) {\n    if (!post.title && !post.summary) {\n      e.preventDefault();\n      return alert(\"La receta necesita un titulo y un resumen\");\n    } else if (!post.diets.length) {\n      e.preventDefault();\n      return alert(\"Necesitas agregar por lo menos 1 tipo de dieta a la receta\");\n    } else {\n      if (!post.image) {\n        post.image = \"https://cdn.pixabay.com/photo/2016/12/26/17/28/spaghetti-1932466_960_720.jpg\";\n      }\n\n      const newPost = {\n        title: post.title,\n        resumen: post.summary,\n        puntuacion: post.healthScore,\n        nivel: post.spoonacularScore,\n        pasoApaso: post.instructions,\n        imagen: post.image,\n        dieta: post.diets\n      };\n      dispatch(postRecipe(newPost));\n      alert(\"Se creo la receta exitosamente!\");\n      setPost({\n        title: \"\",\n        summary: \"\",\n        spoonacularScore: 50,\n        healthScore: 50,\n        instructions: \"\",\n        image: \"\",\n        diets: []\n      });\n      navigate(\"/home\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"CREA TU PROPIA RECETA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: post.title,\n          name: \"title\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Resumen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          value: post.summary,\n          name: \"summary\",\n          maxLength: \"1000\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), errors.summary && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Puntuacion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: \"100\",\n          value: post.spoonacularScore,\n          name: \"spoonacularScore\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: post.spoonacularScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nivel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: \"100\",\n          value: post.healthScore,\n          name: \"healthScore\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: post.healthScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Paso a paso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          value: post.instructions,\n          name: \"instructions\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), errors.instructions && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.instructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Cargar url de la imagen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"url\",\n          value: post.image,\n          name: \"image\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => handleSelect(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            hidden: true,\n            name: \"diets\",\n            children: \"Selecciona tipo de dieta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), allDiets === null || allDiets === void 0 ? void 0 : allDiets.map(diet => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: diet.id,\n              children: diet.name\n            }, diet.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 38\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: post.diets.map(diet => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: diet\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDietDelete(diet),\n                children: \"x \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: e => handleSubmit(e),\n        children: \"Crear Receta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n} //  <p>{allDiets?.find(element => element.id === diet)?.name}</p>\n\n_s(RecipeCreate, \"W9L29tVt2DWC9Mqx3b9ooJw94ME=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = RecipeCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeCreate\");","map":{"version":3,"sources":["C:/Users/PC/Pictures/Screenshots/HENRY/PI/PI-Food (ultima Version)/client/src/components/RecipeCreate.jsx"],"names":["React","useState","useEffect","Link","useNavigate","postRecipe","useDispatch","useSelector","validate","post","errors","title","summary","instructions","RecipeCreate","dispatch","navigate","allDiets","state","diets","setErrors","setPost","spoonacularScore","healthScore","image","handleChange","e","target","name","value","handleSelect","handleDietDelete","deleteThis","filter","diet","handleSubmit","preventDefault","alert","length","newPost","resumen","puntuacion","nivel","pasoApaso","imagen","dieta","map","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link ,  useNavigate } from \"react-router-dom\"\nimport { postRecipe } from \"../actions\"\nimport { useDispatch , useSelector } from \"react-redux\"\n//import styles from \"../Styles/CreateRecipe.module.css\"\n\nfunction validate(post){\n    let errors = {}\n    if (!post.title){\n        errors.title = \"Tu receta necesita un titulo\"\n    } else if (!post.summary){\n        errors.summary = \"Brinda una pequeña descripcion de tu receta\"\n    } else if (!post.instructions){\n        errors.instructions = \"No te olvides de contar como la preparaste\"\n    }\n    return errors\n}\n\n    \nexport default function RecipeCreate(){\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    const allDiets = useSelector((state) => state.diets)\n   \n    const [errors, setErrors] = useState({})\n\n    const [post, setPost] = useState({\n        title: \"\",\n        summary: \"\",\n        spoonacularScore: 50,\n        healthScore: 50,\n        instructions: \"\",\n        image: \"\",\n        diets: []  \n    })\n\n    function handleChange(e){\n        setPost({\n            ...post,\n            [e.target.name]: e.target.value\n        })\n        setErrors(validate({\n            ...post,\n            [e.target.name]: e.target.value\n        }))\n    }\n\n    function handleSelect(e){\n        setPost({\n            ...post,\n            diets: [...post.diets, e.target.value] //guarda en un arreglo lo qe vaya seleccionando\n        })\n    //    console.log(post)\n    }\n\n    function handleDietDelete(deleteThis){\n        setPost({\n            ...post,\n            diets: post.diets.filter(diet => diet !== deleteThis)\n        })\n    }\n\n    function handleSubmit(e){\n        if(!post.title && !post.summary){\n            e.preventDefault()\n            return alert(\"La receta necesita un titulo y un resumen\")\n        } else if(!post.diets.length){\n            e.preventDefault()\n            return alert(\"Necesitas agregar por lo menos 1 tipo de dieta a la receta\")\n        } else {\n            if (!post.image) {\n                post.image = \"https://cdn.pixabay.com/photo/2016/12/26/17/28/spaghetti-1932466_960_720.jpg\"\n            }\n            const newPost={\n                title: post.title,\n                resumen: post.summary,\n                puntuacion: post.healthScore,\n                nivel: post.spoonacularScore,\n                pasoApaso: post.instructions,\n                imagen: post.image,\n                dieta: post.diets\n            }\n            dispatch(postRecipe(newPost))\n            alert(\"Se creo la receta exitosamente!\")\n            setPost({\n                title: \"\",\n                summary: \"\",\n                spoonacularScore: 50,\n                healthScore: 50,\n                instructions: \"\",\n                image: \"\",\n                diets: []\n            })\n            navigate(\"/home\")\n        }\n    }\n\n\n    return(\n        <div >\n            <Link to=\"/home\" >\n                <button >Home</button>\n            </Link>\n            <h1 >CREA TU PROPIA RECETA</h1>\n            <form >\n                <div >\n                    <label >Title</label>\n                    <input  type=\"text\" value={post.title} name=\"title\" onChange={(e) => handleChange(e)} ></input>\n                    {errors.title && (<p >{errors.title}</p>)}\n                </div>\n                <div >\n                    <label >Resumen</label>\n                    <textarea  type=\"text\" value={post.summary} name=\"summary\" maxLength=\"1000\" onChange={(e) => handleChange(e)}></textarea>\n                    {errors.summary && (<p >{errors.summary}</p>)}\n                </div>\n                <div >\n                    <label >Puntuacion</label>\n                    <input  type=\"range\" min=\"0\" max=\"100\" value={post.spoonacularScore} name=\"spoonacularScore\" onChange={(e) => handleChange(e)}></input>\n                    {<p >{post.spoonacularScore}</p>}\n                </div>\n                <div >\n                    <label >Nivel</label>\n                    <input  type=\"range\" min=\"0\" max=\"100\" value={post.healthScore} name=\"healthScore\" onChange={(e) => handleChange(e)}></input>\n                    {<p >{post.healthScore}</p>}\n                </div>\n                <div >\n                    <label >Paso a paso</label>\n                    <textarea  type=\"text\" value={post.instructions} name=\"instructions\" onChange={(e) => handleChange(e)}></textarea>\n                    {errors.instructions && (<p >{errors.instructions}</p>)}\n                </div>\n                <div >\n                    <label >Cargar url de la imagen</label>\n                    <input  type=\"url\" value={post.image} name=\"image\" onChange={(e) => handleChange(e)}></input>\n                </div>\n                <div >\n                    <select onChange={(e)=> handleSelect(e)}>\n                        <option value=\"all\" hidden name=\"diets\" >Selecciona tipo de dieta</option>\n                            {allDiets?.map(diet => {\n                            return ( <option value={diet.id} key={diet.id}>{diet.name}</option>)\n                            })\n                            } \n                    </select>\n                    <ul>\n                        <li>                            \n                            {post.diets.map(diet => \n                            <div >\n                                <p>{diet}</p>\n                                <button onClick={() => handleDietDelete(diet)}>x </button>\n                            </div>\n                            )}\n                        </li>\n                    </ul>\n                </div>\n                <button  type=\"submit\" onClick={(e) => handleSubmit(e)}>Crear Receta</button>\n            </form>\n        </div>\n    )\n\n\n}\n\n//  <p>{allDiets?.find(element => element.id === diet)?.name}</p>"]},"metadata":{},"sourceType":"module"}