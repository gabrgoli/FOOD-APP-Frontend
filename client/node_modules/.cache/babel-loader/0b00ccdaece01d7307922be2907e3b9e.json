{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mi PC\\\\Desktop\\\\Food Recetas\\\\Food_Recipes\\\\client\\\\src\\\\components\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getRecipes, filterCreated, getDiets, filteredByDiet, orderByTitle, orderBySpoonacularScore } from '../actions';\nimport { Link } from 'react-router-dom';\nimport CardRecipeSmall from './CardRecipeSmall.jsx';\nimport CardRecipeBig from './CardRecipeBig.jsx';\nimport Paginado from './Paginado';\nimport { Grid, CardMedia, Box, Typography, Button } from '@mui/material';\nimport '../styles/Buttons.css';\nimport NavBar from '../components/NavBar'; //import styles from \"../styles/Paginado.module.css\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconsole.log('url de ahora', window.location);\nexport default function Home() {\n  _s();\n\n  const dispatch = useDispatch();\n  const allRecipes = useSelector(State => State.recipes); //me trae del reducer el estado de recipes, que tiene todas las recetas\n\n  const allDiets = useSelector(State => State.dietTypes); //PAGINADO\n\n  const [currentPage, setCurrentPage] = useState(1); //creo un estado local en donde le paso la pagina actual\n\n  const [recipesPerPage, setRecipesPerPage] = useState(28); //cantidad de recetas por pagina\n\n  const indexOfLastRecipe = currentPage * recipesPerPage; //porque si estoy en la pagina 3, el ultimo recipe va a ser 6*3=18\n\n  const indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage; //da el index de la primera receta\n\n  const currentRecipes = allRecipes.slice(indexOfFirstRecipe, indexOfLastRecipe); //va mostrando cuantos recipes hay que rednerizar por pagina\n\n  const [loaded, setLoaded] = React.useState(false); // estados locales para renderizar los globales\n\n  const [aux, forzarRenderizado] = useState(\"\"); //estado local que arranca vacio\n\n  const [score, setScore] = useState(\"\");\n\n  const paginado = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  useEffect(() => {\n    allRecipes.length === 0 && dispatch(getRecipes()).then(() => setLoaded(true));\n    console.log(\"se hizo el dispatch\");\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(getDiets()).then(() => setLoaded(true));\n  }, [dispatch]);\n\n  function handleClick(e) {\n    setLoaded(false);\n    e.preventDefault();\n    dispatch(getRecipes());\n    setLoaded(true);\n  }\n  /*function handleFilterCreated(e){\r\n      setLoaded(false);\r\n      dispatch(filterCreated(e.target.value));\r\n      setLoaded(true)\r\n  }*/\n\n\n  function handleFilteredDiet(e) {\n    setLoaded(false);\n    dispatch(filteredByDiet(e.target.value));\n    setLoaded(true);\n    setCurrentPage(1);\n    e.preventDefault();\n  }\n\n  function handleSortedRecipesSpoonScore(e) {\n    setLoaded(false);\n    dispatch(orderBySpoonacularScore(e.target.value));\n    setLoaded(true);\n    setCurrentPage(1);\n    setScore(e.target.value);\n    e.preventDefault();\n  }\n\n  function handleSortedRecipesTitle(e) {\n    setLoaded(false);\n    e.preventDefault();\n    dispatch(orderByTitle(e.target.value));\n    setLoaded(true);\n    setCurrentPage(1); //setea la pagina principal\n\n    forzarRenderizado(e.target.value); //renderiza modificando el estado local, ordenado de tal forma, solo hace la modificacion en el renderizado\n    //setorder('Ordenado ${e.target.value}')\n    //guarda el valor d el criterio actual, max min o all, y verifica si hubo un cambio de valor y compara con el estado actual, si es diferente renderiza\n  }\n\n  console.log('allRecipes', allRecipes);\n  console.log(\"url\", window.location);\n  return (\n    /*#__PURE__*/\n    //se pasan los values iguales a la API\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        marginTop: \"210px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Busca tu receta favorita\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), loaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select-css\",\n          onChange: e => handleSortedRecipesTitle(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Alphabetic Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"asc\",\n            children: \"A-Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            vale: \"desc\",\n            children: \"Z-A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select-css\",\n          onChange: e => handleSortedRecipesSpoonScore(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Order by HealthScore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"SpoonacularMax\",\n            children: \"Max\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"SpoonacularMin\",\n            children: \"Min\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select-css\",\n          onChange: e => handleFilteredDiet(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Filter by tipe of diet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this), allDiets === null || allDiets === void 0 ? void 0 : allDiets.map(diet => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: diet.name,\n              children: diet.name[0].toUpperCase() + diet.name.substring(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 34\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          justifyContent: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"botonRecarga\",\n            onClick: e => {\n              handleClick(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"RESET\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Paginado, {\n          recipesPerPage: recipesPerPage,\n          allRecipes: allRecipes.length,\n          paginado: paginado,\n          currentPage: currentPage\n        }, paginado, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [console.log(currentRecipes), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            sx: {\n              display: {\n                md: 'flex'\n              },\n              justifyContent: {\n                xs: 'space-around',\n                md: 'flex-start'\n              },\n              mt: 2\n            },\n            children: currentRecipes === null || currentRecipes === void 0 ? void 0 : currentRecipes.map(recipe => {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  sx: {\n                    display: {\n                      xs: 'flex',\n                      md: 'none'\n                    },\n                    justifyContent: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CardRecipeSmall, {\n                    recipe: recipe\n                  }, recipe === null || recipe === void 0 ? void 0 : recipe.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 37\n                  }, this)\n                }, recipe === null || recipe === void 0 ? void 0 : recipe.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  md: 3,\n                  sx: {\n                    display: {\n                      xs: 'none',\n                      md: 'flex'\n                    },\n                    justifyContent: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CardRecipeBig, {\n                    recipe: recipe\n                  }, recipe === null || recipe === void 0 ? void 0 : recipe.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 37\n                  }, this)\n                }, recipe === null || recipe === void 0 ? void 0 : recipe.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Paginado, {\n            recipesPerPage: recipesPerPage,\n            allRecipes: allRecipes.length,\n            paginado: paginado,\n            currentPage: currentPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Cargando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(Home, \"pOKJWQu7kWP9YqnvvjPRR6s0Ezo=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Mi PC/Desktop/Food Recetas/Food_Recipes/client/src/components/Home.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","getRecipes","filterCreated","getDiets","filteredByDiet","orderByTitle","orderBySpoonacularScore","Link","CardRecipeSmall","CardRecipeBig","Paginado","Grid","CardMedia","Box","Typography","Button","NavBar","console","log","window","location","Home","dispatch","allRecipes","State","recipes","allDiets","dietTypes","currentPage","setCurrentPage","recipesPerPage","setRecipesPerPage","indexOfLastRecipe","indexOfFirstRecipe","currentRecipes","slice","loaded","setLoaded","aux","forzarRenderizado","score","setScore","paginado","pageNumber","length","then","handleClick","e","preventDefault","handleFilteredDiet","target","value","handleSortedRecipesSpoonScore","handleSortedRecipesTitle","map","diet","name","toUpperCase","substring","display","md","justifyContent","xs","mt","recipe","id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState,useEffect } from 'react';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { getRecipes,filterCreated,getDiets ,filteredByDiet, orderByTitle,orderBySpoonacularScore} from '../actions';\r\nimport { Link } from 'react-router-dom';\r\nimport CardRecipeSmall from './CardRecipeSmall.jsx';\r\nimport CardRecipeBig from './CardRecipeBig.jsx';\r\nimport Paginado from './Paginado';\r\nimport { Grid,CardMedia, Box, Typography, Button } from '@mui/material'\r\nimport '../styles/Buttons.css';\r\nimport NavBar from '../components/NavBar'\r\n\r\n//import styles from \"../styles/Paginado.module.css\"\r\nconsole.log('url de ahora' ,window.location)\r\nexport default function Home(){\r\n\r\n    const dispatch = useDispatch()\r\n    const allRecipes = useSelector((State)=> State.recipes) //me trae del reducer el estado de recipes, que tiene todas las recetas\r\n    const allDiets = useSelector((State) => State.dietTypes)\r\n\r\n    //PAGINADO\r\n    const [currentPage,setCurrentPage]=useState(1) //creo un estado local en donde le paso la pagina actual\r\n    const [recipesPerPage, setRecipesPerPage]=useState(28) //cantidad de recetas por pagina\r\n    const indexOfLastRecipe = currentPage * recipesPerPage //porque si estoy en la pagina 3, el ultimo recipe va a ser 6*3=18\r\n    const indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage //da el index de la primera receta\r\n    const currentRecipes = allRecipes.slice(indexOfFirstRecipe,indexOfLastRecipe) //va mostrando cuantos recipes hay que rednerizar por pagina\r\n    const [loaded,setLoaded]=React.useState(false)\r\n\r\n        // estados locales para renderizar los globales\r\n        const [aux,forzarRenderizado] = useState(\"\") //estado local que arranca vacio\r\n        const [score,setScore] = useState(\"\")\r\n\r\n    const paginado = (pageNumber)=> {\r\n        setCurrentPage(pageNumber)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        (allRecipes.length===0)&&dispatch(getRecipes()).then(()=>setLoaded(true));\r\n        console.log(\"se hizo el dispatch\")\r\n    },[dispatch])\r\n\r\n    useEffect(() => {\r\n        dispatch(getDiets()).then(()=>setLoaded(true))\r\n    },[dispatch])\r\n\r\n\r\n\r\n    function handleClick(e){\r\n        setLoaded(false);\r\n        e.preventDefault();\r\n        dispatch(getRecipes())\r\n        setLoaded(true);\r\n    }\r\n\r\n\r\n    /*function handleFilterCreated(e){\r\n        setLoaded(false);\r\n        dispatch(filterCreated(e.target.value));\r\n        setLoaded(true)\r\n    }*/\r\n\r\n    function handleFilteredDiet (e){\r\n        setLoaded(false);\r\n        dispatch(filteredByDiet(e.target.value));\r\n        setLoaded(true);\r\n        setCurrentPage(1)\r\n        e.preventDefault()\r\n    }\r\n\r\n    function handleSortedRecipesSpoonScore(e){\r\n        setLoaded(false)\r\n        dispatch(orderBySpoonacularScore(e.target.value))\r\n        setLoaded(true)\r\n        setCurrentPage(1)\r\n        setScore(e.target.value)\r\n        e.preventDefault()\r\n    }\r\n\r\n    function handleSortedRecipesTitle(e){\r\n        setLoaded(false)\r\n        e.preventDefault();\r\n        dispatch(orderByTitle(e.target.value))\r\n        setLoaded(true)\r\n        setCurrentPage(1);//setea la pagina principal\r\n        forzarRenderizado(e.target.value) //renderiza modificando el estado local, ordenado de tal forma, solo hace la modificacion en el renderizado\r\n        //setorder('Ordenado ${e.target.value}')\r\n\r\n        //guarda el valor d el criterio actual, max min o all, y verifica si hubo un cambio de valor y compara con el estado actual, si es diferente renderiza\r\n    }\r\n    console.log('allRecipes',allRecipes)\r\n    console.log(\"url\",window.location)\r\n    return(//se pasan los values iguales a la API\r\n        <div>\r\n            <NavBar />\r\n        \r\n            <Box marginTop='210px'/>\r\n        \r\n            <h1 >Busca tu receta favorita</h1>\r\n            {loaded?\r\n            <div>\r\n                <select className=\"select-css\" onChange={(e) => handleSortedRecipesTitle(e)}>\r\n                    <option value=\"\" >Alphabetic Order</option>\r\n                    <option value='asc'>A-Z</option> \r\n                    <option vale='desc'>Z-A</option>\r\n                </select>\r\n                <select className=\"select-css\" onChange={e=>handleSortedRecipesSpoonScore(e)}>\r\n                    <option value=\"\" >Order by HealthScore</option>\r\n                    <option value=\"SpoonacularMax\">Max</option>\r\n                    <option value=\"SpoonacularMin\">Min</option>\r\n                </select>  \r\n                {/* <select className=\"select-css\" onChange={e=>handleFilterCreated(e)}>\r\n                    <option value='All'>Ver Todas las Recetas o solo las creadas</option>\r\n                    <option value='created'>Recetas Creaas</option>\r\n                    <option value='api'>Todas las Recetas</option>\r\n                </select> */}\r\n                <select className=\"select-css\"  onChange={e => handleFilteredDiet(e)}>\r\n                    <option value=\"all\">Filter by tipe of diet</option>\r\n                    {allDiets?.map(diet => {\r\n                        return ( <option value={diet.name}>{diet.name[0].toUpperCase()+diet.name.substring(1)}</option>)\r\n                    })\r\n                }\r\n                </select>\r\n\r\n                <Box justifyContent='center'>\r\n                    <Button className='botonRecarga' onClick={e=>{handleClick(e)}}></Button>\r\n                    <Typography>RESET</Typography>\r\n                </Box>\r\n\r\n                    <Paginado\r\n                    key={paginado}\r\n                    recipesPerPage={recipesPerPage}\r\n                    allRecipes={allRecipes.length}\r\n                    paginado = {paginado}\r\n                    currentPage={currentPage}\r\n                    />\r\n\r\n                <div >\r\n                {console.log(currentRecipes)}\r\n\r\n                <Grid container   sx={{display:{md:'flex'},justifyContent:{xs:'space-around',md:'flex-start'},mt:2}}> \r\n                {\r\n                currentRecipes?.map(recipe => {\r\n                    return (\r\n                        <>\r\n                        {/* PANTALLA CHICA */}\r\n                            <Grid key={recipe?.id} sx={{display:{xs:'flex',md:'none'},justifyContent:'center'}} >\r\n                                    <CardRecipeSmall key={recipe?.id} recipe={recipe}  ></CardRecipeSmall>\r\n                            </Grid>\r\n\r\n                            {/* PANTALLA CHICA */}\r\n                            <Grid key={recipe?.id}  md={3} sx={{display:{xs:'none',md:'flex'},justifyContent:'center'}} >\r\n                                    <CardRecipeBig key={recipe?.id} recipe={recipe} ></CardRecipeBig>\r\n                            </Grid>\r\n                        </>\r\n                        )\r\n                    })\r\n                }\r\n                </Grid>\r\n                \r\n                </div>\r\n             \r\n                    <div  >\r\n                        <Paginado recipesPerPage={recipesPerPage} allRecipes={allRecipes.length} paginado={paginado} currentPage={currentPage}></Paginado>\r\n                    </div>  \r\n             \r\n\r\n            </div>:<div>Cargando...</div>}\r\n        </div>\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}